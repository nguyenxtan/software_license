# Cáº¥u trÃºc Dá»± Ã¡n

## Tá»•ng quan ThÆ° má»¥c

```
thongbaogiahanphanmem/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                  # Tá»•ng quan dá»± Ã¡n
â”œâ”€â”€ ğŸ“„ SETUP.md                   # HÆ°á»›ng dáº«n cÃ i Ä‘áº·t chi tiáº¿t
â”œâ”€â”€ ğŸ“„ QUICK_START.md             # HÆ°á»›ng dáº«n khá»Ÿi Ä‘á»™ng nhanh
â”œâ”€â”€ ğŸ“„ PROJECT_SUMMARY.md         # Tá»•ng káº¿t dá»± Ã¡n
â”‚
â”œâ”€â”€ ğŸ”§ backend/                   # Backend API Server
â”‚   â”œâ”€â”€ ğŸ“¦ package.json           # Dependencies
â”‚   â”œâ”€â”€ ğŸ“„ .env.example           # Environment variables template
â”‚   â”œâ”€â”€ ğŸ“„ .gitignore
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ—„ï¸ prisma/               # Database ORM
â”‚   â”‚   â”œâ”€â”€ schema.prisma        # Database schema (10 models)
â”‚   â”‚   â””â”€â”€ seed.js              # Sample data script
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/                  # Source code
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ config/           # Configuration
â”‚       â”‚   â”œâ”€â”€ database.js      # Prisma client setup
â”‚       â”‚   â””â”€â”€ email.js         # SMTP configuration
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ controllers/      # API Controllers (7 files)
â”‚       â”‚   â”œâ”€â”€ authController.js
â”‚       â”‚   â”œâ”€â”€ softwareAssetController.js
â”‚       â”‚   â”œâ”€â”€ departmentController.js
â”‚       â”‚   â”œâ”€â”€ userController.js
â”‚       â”‚   â”œâ”€â”€ uploadController.js
â”‚       â”‚   â”œâ”€â”€ dashboardController.js
â”‚       â”‚   â””â”€â”€ notificationController.js
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ routes/           # API Routes (7 files)
â”‚       â”‚   â”œâ”€â”€ authRoutes.js
â”‚       â”‚   â”œâ”€â”€ softwareAssetRoutes.js
â”‚       â”‚   â”œâ”€â”€ departmentRoutes.js
â”‚       â”‚   â”œâ”€â”€ userRoutes.js
â”‚       â”‚   â”œâ”€â”€ uploadRoutes.js
â”‚       â”‚   â”œâ”€â”€ dashboardRoutes.js
â”‚       â”‚   â””â”€â”€ notificationRoutes.js
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ services/         # Business Logic Services
â”‚       â”‚   â”œâ”€â”€ emailService.js      # Email sending & templates
â”‚       â”‚   â”œâ”€â”€ excelService.js      # Excel import/export
â”‚       â”‚   â””â”€â”€ schedulerService.js  # Cron jobs & auto reminders
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ middleware/       # Express Middleware
â”‚       â”‚   â”œâ”€â”€ auth.js          # JWT authentication & authorization
â”‚       â”‚   â””â”€â”€ errorHandler.js  # Global error handling
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ utils/            # Utility Functions
â”‚       â”‚   â”œâ”€â”€ jwt.js           # JWT token generation/verification
â”‚       â”‚   â””â”€â”€ password.js      # Password hashing/comparison
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“„ index.js          # Main entry point
â”‚
â””â”€â”€ ğŸ¨ frontend/                 # React Frontend
    â”œâ”€â”€ ğŸ“¦ package.json          # Dependencies
    â”œâ”€â”€ ğŸ“„ tsconfig.json         # TypeScript config
    â”œâ”€â”€ ğŸ“„ vite.config.ts        # Vite bundler config
    â”œâ”€â”€ ğŸ“„ index.html            # HTML template
    â”œâ”€â”€ ğŸ“„ .gitignore
    â”‚
    â”œâ”€â”€ ğŸ“ public/               # Static assets
    â”‚
    â””â”€â”€ ğŸ“ src/                  # Source code
        â”‚
        â”œâ”€â”€ ğŸ“ types/            # TypeScript Type Definitions
        â”‚   â””â”€â”€ index.ts         # All interfaces & types
        â”‚
        â”œâ”€â”€ ğŸ“ services/         # API Services
        â”‚   â””â”€â”€ api.ts           # Axios instance & all API calls
        â”‚
        â”œâ”€â”€ ğŸ“ contexts/         # React Contexts
        â”‚   â””â”€â”€ AuthContext.tsx  # Authentication state management
        â”‚
        â”œâ”€â”€ ğŸ“ pages/            # Page Components (10 screens)
        â”‚   â”œâ”€â”€ Login.tsx
        â”‚   â”œâ”€â”€ Dashboard.tsx
        â”‚   â”œâ”€â”€ SoftwareAssetList.tsx
        â”‚   â”œâ”€â”€ SoftwareAssetForm.tsx
        â”‚   â”œâ”€â”€ SoftwareAssetDetail.tsx
        â”‚   â”œâ”€â”€ UploadExcel.tsx
        â”‚   â”œâ”€â”€ ImportHistory.tsx
        â”‚   â”œâ”€â”€ UserManagement.tsx
        â”‚   â”œâ”€â”€ DepartmentManagement.tsx
        â”‚   â””â”€â”€ Notifications.tsx
        â”‚
        â”œâ”€â”€ ğŸ“ components/       # Reusable Components
        â”‚   â”œâ”€â”€ Layout/
        â”‚   â”œâ”€â”€ Charts/
        â”‚   â”œâ”€â”€ Tables/
        â”‚   â””â”€â”€ Forms/
        â”‚
        â”œâ”€â”€ ğŸ“ utils/            # Utility Functions
        â”‚   â”œâ”€â”€ format.ts        # Date, number formatting
        â”‚   â””â”€â”€ constants.ts     # App constants
        â”‚
        â”œâ”€â”€ ğŸ“„ App.tsx           # Main App component
        â””â”€â”€ ğŸ“„ main.tsx          # Entry point
```

---

## Database Schema (Prisma)

### ğŸ“Š Models (10 tables)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     USERS (ngÆ°á»i dÃ¹ng)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, username, passwordHash, fullName, email, role,          â”‚
â”‚ departmentId, isActive, authProvider, externalId            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â–º 1:N â”€â”€â–º SOFTWARE_ASSETS (responsibleUser)
          â””â”€â”€â–º 1:N â”€â”€â–º RENEWAL_HISTORY (performedBy)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DEPARTMENTS (phÃ²ng ban)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, name, code, emailGroup                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â–º 1:N â”€â”€â–º USERS
          â””â”€â”€â–º 1:N â”€â”€â–º SOFTWARE_ASSETS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SOFTWARE_ASSETS (báº£n quyá»n pháº§n má»m)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, name, costYear, currency, budgetYear, departmentId,     â”‚
â”‚ expireDate, note, need3MonthReminder, status,               â”‚
â”‚ responsibleUserId, vendorName, contractNumber,              â”‚
â”‚ licenseType, quantity                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â–º 1:N â”€â”€â–º RENEWAL_HISTORY
          â””â”€â”€â–º 1:N â”€â”€â–º NOTIFICATIONS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               RENEWAL_HISTORY (lá»‹ch sá»­ gia háº¡n)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, softwareAssetId, actionDate, actionType,                â”‚
â”‚ oldExpireDate, newExpireDate, cost, performedByUserId       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 NOTIFICATIONS (thÃ´ng bÃ¡o)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, softwareAssetId, type, remindBeforeDays, status,        â”‚
â”‚ sentAt, emailSubject, emailTo, emailCc, errorMessage        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              IMPORT_JOBS (lá»‹ch sá»­ import Excel)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, fileName, uploadedByUserId, uploadedAt, totalRows,      â”‚
â”‚ successRows, failedRows, status, errorLog                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â””â”€â”€â–º 1:N â”€â”€â–º IMPORT_JOB_DETAILS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         IMPORT_JOB_DETAILS (chi tiáº¿t tá»«ng dÃ²ng)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, importJobId, rowNumber, rawData, status, errorMessage   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             SYSTEM_CONFIG (cáº¥u hÃ¬nh há»‡ thá»‘ng)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, key, value, description                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Endpoints Overview

### ğŸ” Authentication (3 endpoints)
```
POST   /api/auth/login              # ÄÄƒng nháº­p
GET    /api/auth/me                 # Láº¥y thÃ´ng tin user
POST   /api/auth/logout             # ÄÄƒng xuáº¥t
```

### ğŸ’¾ Software Assets (7 endpoints)
```
GET    /api/software-assets          # Danh sÃ¡ch (cÃ³ phÃ¢n trang)
GET    /api/software-assets/:id      # Chi tiáº¿t
POST   /api/software-assets          # Táº¡o má»›i
PUT    /api/software-assets/:id      # Cáº­p nháº­t
DELETE /api/software-assets/:id      # XÃ³a
POST   /api/software-assets/:id/complete-renewal    # Gia háº¡n
POST   /api/software-assets/:id/send-reminder       # Gá»­i email
```

### ğŸ¢ Departments (5 endpoints)
```
GET    /api/departments              # Danh sÃ¡ch
GET    /api/departments/:id          # Chi tiáº¿t
POST   /api/departments              # Táº¡o má»›i
PUT    /api/departments/:id          # Cáº­p nháº­t
DELETE /api/departments/:id          # XÃ³a
```

### ğŸ‘¥ Users (5 endpoints - Admin only)
```
GET    /api/users                    # Danh sÃ¡ch (cÃ³ phÃ¢n trang)
GET    /api/users/:id                # Chi tiáº¿t
POST   /api/users                    # Táº¡o má»›i
PUT    /api/users/:id                # Cáº­p nháº­t
DELETE /api/users/:id                # XÃ³a
```

### ğŸ“¤ Upload/Import (5 endpoints)
```
GET    /api/upload/template          # Táº£i template Excel
POST   /api/upload/import            # Upload file
GET    /api/upload/jobs              # Lá»‹ch sá»­ import
GET    /api/upload/jobs/:id          # Chi tiáº¿t import job
GET    /api/upload/export            # Xuáº¥t Excel
```

### ğŸ“Š Dashboard (2 endpoints)
```
GET    /api/dashboard/summary        # Thá»‘ng kÃª tá»•ng quan
GET    /api/dashboard/expiring       # Danh sÃ¡ch sáº¯p háº¿t háº¡n
```

### ğŸ”” Notifications (2 endpoints)
```
GET    /api/notifications            # Danh sÃ¡ch thÃ´ng bÃ¡o
POST   /api/notifications/:id/resend # Gá»­i láº¡i email
```

**Tá»•ng cá»™ng: 36 endpoints**

---

## Luá»“ng Dá»¯ liá»‡u (Data Flow)

### 1ï¸âƒ£ User Login Flow
```
Frontend          Backend         Database
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€ POST â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
   â”‚  /auth/login   â”‚                â”‚
   â”‚                â”‚â”€â”€â”€ Query â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                â”‚   Check user   â”‚
   â”‚                â”‚â—„â”€â”€ Result â”€â”€â”€â”€â”€â”‚
   â”‚                â”‚                â”‚
   â”‚                â”‚ Generate JWT   â”‚
   â”‚â—„â”€â”€â”€ Token â”€â”€â”€â”€â”‚                â”‚
   â”‚                â”‚                â”‚
   â”‚ Store in       â”‚                â”‚
   â”‚ localStorage   â”‚                â”‚
```

### 2ï¸âƒ£ Software Asset CRUD Flow
```
Frontend          Backend         Database
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€ GET â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
   â”‚  with filter   â”‚                â”‚
   â”‚                â”‚â”€â”€â”€ Query â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                â”‚   + pagination â”‚
   â”‚                â”‚â—„â”€â”€ Results â”€â”€â”€â”€â”‚
   â”‚â—„â”€â”€â”€ Data â”€â”€â”€â”€â”€â”‚                â”‚
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€ POST â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
   â”‚  new asset     â”‚                â”‚
   â”‚                â”‚â”€â”€â”€ Insert â”€â”€â”€â”€â–ºâ”‚
   â”‚                â”‚â—„â”€â”€ Success â”€â”€â”€â”€â”‚
   â”‚â—„â”€â”€â”€ Created â”€â”€â”‚                â”‚
```

### 3ï¸âƒ£ Cron Job Auto Reminder Flow
```
Scheduler         Database        Email Service
   â”‚                â”‚                â”‚
   â”‚ Every 1:00 AM  â”‚                â”‚
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€ Query â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
   â”‚  Assets with   â”‚                â”‚
   â”‚  expireDate    â”‚                â”‚
   â”‚â—„â”€â”€ Results â”€â”€â”€â”€â”‚                â”‚
   â”‚                â”‚                â”‚
   â”‚ For each:      â”‚                â”‚
   â”‚ Calculate      â”‚                â”‚
   â”‚ days_left      â”‚                â”‚
   â”‚                â”‚                â”‚
   â”‚ Check if       â”‚                â”‚
   â”‚ matches        â”‚                â”‚
   â”‚ reminder day   â”‚                â”‚
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Send â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                â”‚       Email    â”‚
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€ Log â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚
   â”‚  notification  â”‚                â”‚
```

### 4ï¸âƒ£ Excel Import Flow
```
Frontend          Backend         Database
   â”‚                â”‚                â”‚
   â”‚â”€â”€â”€ Upload â”€â”€â”€â”€â–ºâ”‚                â”‚
   â”‚  Excel file    â”‚                â”‚
   â”‚                â”‚ Parse Excel    â”‚
   â”‚                â”‚ Validate rows  â”‚
   â”‚                â”‚                â”‚
   â”‚                â”‚â”€â”€â”€ Insert â”€â”€â”€â”€â–ºâ”‚
   â”‚                â”‚   batch        â”‚
   â”‚                â”‚â—„â”€â”€ Success â”€â”€â”€â”€â”‚
   â”‚                â”‚                â”‚
   â”‚                â”‚â”€â”€â”€ Log â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                â”‚  import_jobs   â”‚
   â”‚                â”‚                â”‚
   â”‚â—„â”€â”€â”€ Summary â”€â”€â”‚                â”‚
   â”‚  success/fail  â”‚                â”‚
```

---

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Form Validation                           â”‚     â”‚
â”‚  â”‚  Input Sanitization                        â”‚     â”‚
â”‚  â”‚  Token Storage (localStorage)              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ HTTPS
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 BACKEND API                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  CORS Configuration                        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  JWT Middleware (Authentication)           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Authorization Middleware (RBAC)           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Input Validation (express-validator)      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Error Handler                             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DATABASE                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Prisma ORM (SQL Injection Prevention)    â”‚     â”‚
â”‚  â”‚  Foreign Key Constraints                  â”‚     â”‚
â”‚  â”‚  Data Type Validation                     â”‚     â”‚
â”‚  â”‚  Connection Pooling                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCTION                         â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Nginx/Apache     â”‚      â”‚   PostgreSQL     â”‚   â”‚
â”‚  â”‚   (Static Files)   â”‚      â”‚   (Database)     â”‚   â”‚
â”‚  â”‚   Port 80/443      â”‚      â”‚   Port 5432      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                         â”‚             â”‚
â”‚             â”‚                         â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Frontend Build   â”‚      â”‚   Backend API    â”‚   â”‚
â”‚  â”‚   (React SPA)      â”‚      â”‚   (Node.js)      â”‚   â”‚
â”‚  â”‚   /dist            â”‚â—„â”€â”€â”€â”€â”€â”¤   Port 3000      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   (PM2)          â”‚   â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Cron Jobs (Background)                     â”‚   â”‚
â”‚  â”‚   - Auto reminders (1:00 AM daily)           â”‚   â”‚
â”‚  â”‚   - Database cleanup (if needed)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Count Summary

### Backend
- **Controllers**: 7 files
- **Routes**: 7 files
- **Services**: 3 files
- **Middleware**: 2 files
- **Config**: 2 files
- **Utils**: 2 files
- **Prisma**: 2 files (schema + seed)
- **Total Backend Files**: ~25 files

### Frontend
- **Pages**: 10+ components
- **Contexts**: 1 file
- **Services**: 1 file
- **Types**: 1 file
- **Config**: 3 files
- **Total Frontend Files**: ~20 files

### Documentation
- **README.md**
- **SETUP.md**
- **QUICK_START.md**
- **PROJECT_SUMMARY.md**
- **STRUCTURE.md** (this file)
- **Total**: 5 documentation files

**Grand Total: ~50+ files created**

---

## Technology Stack Details

### Backend Stack
```
Node.js v18+
â”œâ”€â”€ express v4.18         # Web framework
â”œâ”€â”€ @prisma/client v5.8   # ORM
â”œâ”€â”€ bcryptjs v2.4         # Password hashing
â”œâ”€â”€ jsonwebtoken v9.0     # JWT auth
â”œâ”€â”€ nodemailer v6.9       # Email
â”œâ”€â”€ node-cron v3.0        # Scheduled tasks
â”œâ”€â”€ xlsx v0.18            # Excel processing
â”œâ”€â”€ multer v1.4           # File upload
â”œâ”€â”€ cors v2.8             # CORS handling
â””â”€â”€ dotenv v16.3          # Environment vars
```

### Frontend Stack
```
React v18.2
â”œâ”€â”€ TypeScript v5.3       # Type safety
â”œâ”€â”€ Vite v5.0             # Build tool
â”œâ”€â”€ antd v5.12            # UI components
â”œâ”€â”€ axios v1.6            # HTTP client
â”œâ”€â”€ react-router-dom v6   # Routing
â”œâ”€â”€ recharts v2.10        # Charts
â””â”€â”€ dayjs v1.11           # Date handling
```

### Database
```
PostgreSQL v14+
â””â”€â”€ Prisma ORM v5.8
    â”œâ”€â”€ Type-safe queries
    â”œâ”€â”€ Migrations
    â”œâ”€â”€ Seeding
    â””â”€â”€ Studio (GUI)
```

---

TÃ i liá»‡u nÃ y cung cáº¥p cÃ¡i nhÃ¬n tá»•ng quan vá» cáº¥u trÃºc dá»± Ã¡n! ğŸ“âœ¨
